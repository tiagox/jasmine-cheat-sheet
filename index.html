<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Jasmine cheatsheet</title>
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/default.min.css">
  <link rel="stylesheet" href="style.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
  <script type="text/javascript">hljs.initHighlightingOnLoad();</script>
</head>
<body class="cols three">
  <article>
    <header><h2>Jasmine</h2></header>
    <pre><code class="javascript">describe("A suite", function() {
  it("contains spec with an expectation", function() {
    expect(true).toBe(true);
  });
});</code></pre>
  </article>
  <article>
    <header>Blocks</header>
    <pre><code class="javascript">beforeEach(function() { ... });
afterEach(function() { ... });</code></pre>
  </article>
  <!-- <article>
    <header>Pending</header>
    <pre><code class="javascript">xdescribe("this is a pending block", function() { ... })
xit("this is a pending test", function() { ... })</code></pre>
  </article> -->
  <article>
    <header>Expectations</header>
    <pre><code class="javascript">expect(true).toBe(true)
expect(true).not.toBe(true)

expect(a.foo).toBeTruthy()
expect(a.foo).toBeFalsy()

expect(a).toEqual(bar)

expect(a.foo).toBeDefined()
expect(a.foo).toBeUndefined()
expect(a.foo).toBeNull()

expect(message).toMatch(/bar/)
expect(message).toMatch('bar')

expect(message).toContain('hello')

expect(pi).toBeGreaterThan(3)
expect(pi).toBeLessThan(4)
expect(pi).toBeCloseTo(3.1415, 0.1)

expect(func).toThrow()</code></pre>
  </article>
  <article>
    <header>Spies</header>
    <pre><code class="javascript">spyOn(foo, 'setBar')
spyOn(foo, 'setBar').andReturn(123)
spyOn(foo, 'getBar').andCallFake(function() {
  return 1001;
})
foo.setBar(123)

expect(foo.setBar).toHaveBeenCalled()
expect(foo.setBar).toHaveBeenCalledWith(123)
expect(foo.setBar.calls.length).toEqual(2)
expect(foo.setBar.calls[0].args[0]).toEqual(123)
expect(foo.setBar.mostRecentCall.args[0]).toEqual(123)</code></pre>
  </article>
  <article>
    <header>Creating spies</header>
    <pre><code class="javascript">stub = jasmine.createSpy('stub');

stub("hello");

expect(whatAmI.identity).toEqual("stub");
expect(whatAmI).toHaveBeenCalled();</code></pre>
  </article>
  <article>
    <header>Async</header>
    <pre><code class="javascript">it('should run async', function() {
  var flag = false, value = 0;

  runs(function() {
    setTimeout(function() { flag = true; }, 500);
  });

  waitsFor(function() {
    value++;
    return flag;
  }, 'increment', 750);

  runs(function() {
    expect(value).toBeGreaterThan(0);
  });
});</code></pre>
  </article>
  <!-- <article>
    <header>HTML runner</header>
    <pre><code class="javascript">var jasmineEnv = jasmine.getEnv();

jasmineEnv.updateInterval = 250;

var htmlReporter = new jasmine.HtmlReporter();

jasmineEnv.addReporter(htmlReporter);

$(function() { jasmineEnv.execute(); });</code></pre>
  </article> -->
  <h2>Jasmine jQuery</h2>
  <p class="link"><a href="https://github.com/velesin/jasmine-jquery">https://github.com/velesin/jasmine-jquery</a></p>
  <article>
    <header>Expectations</header>
    <pre><code class="javascript">expect($('#id')).toBe('div')
expect($('input[type=checkbox]')).toBeChecked()
expect($('input[type=checkbox]')).toBeDisabled()
expect($('input[type=checkbox]')).toBeFocused()
expect($('#menu ul')).toBeEmpty()

expect($('#toolbar')).toBeHidden()
expect($('#toolbar')).toBeVisible()

expect($('#popup')).toHaveCss({margin: "10px"})
expect($('option')).toBeSelected()

expect($('.foo')).toExist()

expect($('a')).toHaveAttr('rel')
expect($('a')).toHaveAttr('rel', 'nofollow')

expect($('a')).toHaveClass('rel')
expect($('a')).toHaveId('home')

expect($('a')).toHaveHtml('&lt;span&gt;&lt;/span&gt;')
expect($('a')).toContainHtml('&lt;span&gt;&lt;/span&gt;')
expect($('a')).toHaveText('hi')

expect($form).toHandle('submit') // event
expect($form).toHandleWith('submit', onSumbit)</code></pre>
  </article>
  <article>
    <header>Event spies</header>
    <pre><code class="javascript">spyOnEvent($('#some_element'), 'click');

$('#some_element').click();

expect('click').toHaveBeenPreventedOn($('#some_element'));
expect('click').toHaveBeenTriggeredOn($('#some_element'));</code></pre>
  </article>
</body>
</html>

